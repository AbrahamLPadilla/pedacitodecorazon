<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Un Pedacito de Mi Corazón</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');

body {
  margin: 0;
  font-family: inherit;
  background: linear-gradient(135deg, #f8d7e3, #fef4f7, #f9d9e8);
  background-attachment: fixed;
  color: #333;
  line-height: 1.6;
  overflow-x: hidden;
}

header {
  text-align: center;
  padding: 2rem 1rem;
}

h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
  color: #d45a7a;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 1rem;
  position: relative;
}

.carta {
  background: rgba(255, 255, 255, 0.9);
  padding: 2rem;
  border-radius: 25px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  margin-bottom: 2rem;
  font-size: 1.2rem;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.5);
  animation: fadeInCard 1s ease;
}

@keyframes fadeInCard {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

.btn-ar {
  display: block;
  width: 60%;
  margin: 2rem auto 0 auto;
  text-align: center;
  padding: 0.8rem;
  background: rgba(255,255,255,0.35);
  backdrop-filter: blur(10px);
  color: #d45a7a;
  text-decoration: none;
  font-size: 1.1rem;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.6);
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  transition: 0.3s;
  font-family: 'Helvetica', sans-serif;
}

.btn-ar:hover {
  background: #b34b67;
}

@media (max-width: 600px) {
  h1 { font-size: 2rem; }
  .carta { font-size: 1.1rem; padding: 1.5rem; }
  .btn-ar { font-size: 1.1rem; width: 80%; }
}

.columns {
  display: flex;
  gap: 1rem;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 1rem;
}

.col {
  flex: 0 0 100%;
  scroll-snap-align: start;
}

.next-btn {
  margin-top: 1rem;
  padding: 0.9rem 1.4rem;
  background: linear-gradient(135deg, #d45a7a, #ff8aa5);
  color: #fff;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  font-size: 1.1rem;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: transform 0.2s, box-shadow 0.2s;
}

.next-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.25);
  background: #b34b67;
}

.romantic-title {
  font-family: 'Great Vibes', cursive;
  font-size: 3.2rem;
  color: #c9486e;
  animation: fadeIn 2s ease;
}

.carta h2 {
  font-family: 'Great Vibes', cursive;
  font-size: 2.2rem;
  color: #c9486e;
  margin-bottom: 1rem;
  text-align: center;
  animation: slideIn 1s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

.floating-hearts::before,
.floating-hearts::after {
  content: "";
  position: fixed;
  width: 250px;
  height: 250px;
  background: url('https://png.pngtree.com/png-clipart/20220720/original/pngtree-pink-love-heart-png-image_8347308.png') no-repeat center/contain;
  opacity: 0.15;
  animation: floatHearts 12s infinite ease-in-out;
  z-index: -1;
}

.floating-hearts::before {
  top: 5%; left: -5%; animation-delay: 0s;
}

.floating-hearts::after {
  bottom: 5%; right: -5%; animation-delay: 3s;
}

@keyframes floatHearts {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-25px) rotate(10deg); }
  100% { transform: translateY(0) rotate(0deg); }
}

.pagination {
  text-align: center;
  margin-top: 1rem;
}

.dot {
  height: 12px;
  width: 12px;
  margin: 0 5px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.3s;
}

.dot.active { background-color: #d45a7a; }

</style>

<!-- Agregar Model Viewer -->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body class="floating-hearts">
<header>
  <h1 class="romantic-title">Un Pedacito de Mi Corazón</h1>
  <p>Un pedacito de lo que siento...</p>
</header>

<div class="container columns" id="columns">
  <div class="col">
    <div class="carta">
      <h2>Cómo empezó todo</h2>
      <p>Aquí tu primer mensaje romántico...</p>
      <button class="next-btn" onclick="nextSlide()">Siguiente</button>
    </div>
  </div>

  <div class="col">
    <div class="carta">
      <h2>Lo que siento por ti</h2>
      <p>Aquí tu segundo mensaje...</p>
      <button class="next-btn" onclick="nextSlide()">Siguiente</button>
    </div>
  </div>

  <div class="col">
    <div class="carta">
      <h2>Lo que deseo contigo</h2>
      <p>Aquí tu tercer mensaje antes de la sorpresa final...</p>

      <!-- Model Viewer para AR -->
      <model-viewer 
        id="mi-modelo"
        src="modelo.glb"
        ios-src="modelo.usdz"
        ar
        ar-modes="webxr scene-viewer quick-look"
        camera-controls
        auto-rotate
        alt="Sorpresa 3D"
        style="width: 100%; height: 300px; margin-top: 1rem;">
      </model-viewer>

      <button class="btn-ar" id="boton-ar"
        style="font-family: inherit; display:block; text-align:center; padding:1.2rem; background:linear-gradient(135deg,#d45a7a,#ff8aa5); color:white; border-radius:18px; font-size:1.4rem; text-decoration:none; font-weight:600; box-shadow:0 6px 18px rgba(0,0,0,0.25); backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,0.5); transition:all 0.35s ease; margin-top:1.5rem;"
        onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 28px rgba(0,0,0,0.30)';"
        onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 6px 18px rgba(0,0,0,0.25)';"
      >Ver Sorpresa</button>
    </div>
  </div>
</div>

<div class="pagination" id="pagination"></div>

<script>
const slides = document.querySelectorAll('.columns .col');
const pagination = document.getElementById('pagination');
let currentSlide = 0;

// Crear puntos de paginación
slides.forEach((_, index) => {
  const dot = document.createElement('span');
  dot.classList.add('dot');
  if(index === 0) dot.classList.add('active');
  dot.addEventListener('click', () => goToSlide(index));
  pagination.appendChild(dot);
});

function updateDots() {
  const dots = document.querySelectorAll('.dot');
  dots.forEach(dot => dot.classList.remove('active'));
  dots[currentSlide].classList.add('active');
}

function nextSlide() {
  if(currentSlide < slides.length - 1) {
    currentSlide++;
    slides[currentSlide].scrollIntoView({behavior: 'smooth', inline: 'start'});
    updateDots();
  }
}

function goToSlide(index) {
  currentSlide = index;
  slides[currentSlide].scrollIntoView({behavior: 'smooth', inline: 'start'});
  updateDots();
}

// Detectar scroll manual
const container = document.getElementById('columns');
container.addEventListener('scroll', () => {
  const index = Math.round(container.scrollLeft / container.offsetWidth);
  if(index !== currentSlide) {
    currentSlide = index;
    updateDots();
  }
});

// Botón AR
const botonAR = document.getElementById('boton-ar');
const modelo = document.getElementById('mi-modelo');

botonAR.addEventListener('click', () => {
  if (modelo.enterAR) {
    modelo.enterAR();
  } else {
    alert("Tu dispositivo no soporta AR");
  }
});
</script>
</body>
</html>
